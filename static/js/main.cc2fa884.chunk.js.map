{"version":3,"sources":["assets/dog-1.jpg","DisplayMovie.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","DisplayMovie","props","react_default","a","createElement","className","name","dogStat","src","img","alt","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_isMounted","handleChange","event","setState","userInput","target","value","handleClick","preventDefault","componentDidMount","handleReset","allMovies","state","_this2","document","title","movieInput","axios","get","method","dataType","headers","X-API-KEY","Accept","params","q","then","response","data","items","movieNamesArray","forEach","movie","push","id","getDogStatus","getPoster","_this3","Promise","all","map","_ref","asyncToGenerator","regenerator_default","mark","_callee","i","url","result","newResult","yes","no","dogDies","wrap","_context","prev","next","concat","sent","values","topicItemStats","console","log","abrupt","objectSpread","t0","message","stop","_x","_x2","apply","arguments","_this4","selectedMovies","_ref2","_callee2","poster","resultPoster","moviePoster","posterUrl","_context2","query","results","post","poster_path","undefined","_x3","_x4","dog","onChange","type","placeholder","onClick","class","src_DisplayMovie","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc2fa884.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dog-1.10a0a721.jpg\";","import React from 'react';\nimport './App.css';\n\nconst DisplayMovie = (props) => {\n    return (\n        <div className=\"movie\">\n            <p className=\"movie-name\">{props.name}</p>\n            <p className=\"dog\">{props.dogStat}</p>\n            <div className=\"poster\">\n                <img src={props.img} alt='' />\n            </div>\n        </div>\n    )\n}\n\nexport default DisplayMovie;","import React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport DisplayMovie from './DisplayMovie.js';\nimport dog from './assets/dog-1.jpg'\n\n\nconst formatDogDeath = (value) => {\n  if (value === null) return '🐶 Watch At Your Own Risk';\n  if (value === false) return '✅ YES! You can watch! No Dogs Die ';\n  if (value === true) return '❌ NO! DON\\'T WATCH! A Dog Dies';\n};\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userInput: '',\n      allMovies: []\n    }\n  }\n  \n  _isMounted = false\n\n  componentDidMount() {\n    document.title = \"Does the Dog Die? (in the movie)\"\n    const movieInput = this.state.userInput;\n    axios.get(\n        'https://cors-anywhere.herokuapp.com/https://www.doesthedogdie.com/search?',\n        {\n          method: 'GET',\n          dataType: 'json',\n          headers: {\n            'X-API-KEY': 'e39ba046c39413e2c04848ae44e80a73',\n            Accept: 'application/json'\n          },\n          params: {\n            q: movieInput\n          }\n        }).then(response => {\n          response = response.data.items;\n          const movieNamesArray = [];\n          response.forEach(movie => {\n            movieNamesArray.push({\n              name: movie.name,\n              id: movie.id\n            })\n          })\n\n        this.setState({ \n          allMovies: movieNamesArray \n        })\n\n        this.getDogStatus()\n        this.getPoster()\n      })\n  }\n\n  getDogStatus() {\n    const allMovies = this.state.allMovies;\n    Promise.all(allMovies.map(async (value, i) => {\n        try {\n          const url = `https://cors-anywhere.herokuapp.com/https://www.doesthedogdie.com/media/${value.id}`\n          const result = await axios.get(`${url}`, {\n            method: 'GET',\n            dataType: 'json',\n            headers: {\n              'X-API-KEY': 'e39ba046c39413e2c04848ae44e80a73',\n              Accept: 'application/json'\n            }\n          })\n          \n          const newResult = Object.values(result.data.topicItemStats[0]);\n          console.log(newResult)\n          const yes = newResult[0];\n          const no = newResult[1]\n          let dogDies;\n\n          if (yes > no) {\n            dogDies = true;\n          } else if (yes < no) {\n            dogDies = false;\n          } else {\n            dogDies = null;\n          }\n           return {\n             ...this.state.allMovies[i],\n             dogDies: dogDies\n           }\n\n        } catch (err) {\n          console.log(err.message)\n        }\n      })).then(result => {\n        this.setState ({\n          allMovies : result\n        })\n      });\n  }\n\n  getPoster() {\n    \n    const selectedMovies = this.state.allMovies;\n    console.log(selectedMovies)\n    Promise.all(selectedMovies.map(async (value, i) => {\n      try {\n        const url = `https://api.themoviedb.org/3/search/movie?api_key=8d57b009677e25546dc89ff6368e4fbe&`\n        const poster = await axios.get(`${url}`, {\n        method: 'GET',\n        dataType: 'jsonp',\n        params: {\n          query:`${value.name}`\n        }\n        })\n        console.log(poster)\n        const resultPoster = poster.data.results\n        const moviePoster = resultPoster.map(post => {\n          return post.poster_path\n        })\n       \n          let posterUrl;\n\n          if (moviePoster[0] === undefined) {\n            posterUrl = `https://antmovies.tv/uploads/no-poster.png`\n          } else {\n            posterUrl = `http://image.tmdb.org/t/p/w500${moviePoster[0]}`\n          }\n          return {\n            ...this.state.allMovies[i],\n            poster: posterUrl\n          }\n\n      } catch (err) {\n        console.log(err)\n      }\n    })).then(result => {\n      this.setState ({\n        allMovies : result\n      })\n    })\n  }\n\n\n  handleChange = (event) => {\n    this.setState({\n      userInput: event.target.value\n    })\n  }\n\n  handleClick = (event) => {\n    event.preventDefault();\n    this.setState({\n      userInput: ''\n    })\n    this.componentDidMount()\n  }\n\n  handleReset = (event) => {\n    event.preventDefault();\n    this.setState ({\n      allMovies : ['']\n    })\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  render() {\n    return (\n\n    <div className=\"App\">\n\n      <div className=\"header-container\">\n        <div className=\"header\">\n          <h1>Does the dog die?</h1>\n          <h2>(in the movie)</h2>\n        </div>\n        <div className='scroll-note'>\n          <p>Scroll Down To Search a Movie <span>&#9660;</span>\n          </p>\n        </div>\n      </div>\n\n      <div className=\"main-container\">\n        <div className=\"wrapper\">\n          <div className=\"form-description\">\n            \n            <img src={dog} alt=\"Movie and Popcorn Icons\"/>\n            <p>No one wants to see a dog die in a movie.</p> <p>Search a movie in the box and press the Search! button </p><p>to make sure you never have to see a movie that a dog dies in again.</p>\n          </div>\n          <div className=\"form\">\n            <form>\n              <input \n                onChange={this.handleChange} \n                type='text' \n                placeholder='Type Movie Here' \n                value={this.state.userInput}\n                name='search' />\n              <button onClick={this.handleClick}>Search!</button>\n              <button type=\"reset\" value=\"Reset\" onClick={this.handleReset}>Reset</button>\n            </form>\n          </div>\n        </div>\n        <p class=\"scroll-here\">Scroll Down for Movie Results</p>\n\n\n        <div className=\"display\" id=\"display\">\n          <div className=\"section-contain\">\n            <p>Is the dog safe?</p>\n          </div>\n          {this.state.allMovies.map(movie => {\n            return (\n              <div class=\"display-movie\">\n                <DisplayMovie\n                  img={movie.poster}\n                  name={movie.name}\n                  dogStat={formatDogDeath(movie.dogDies)}\n                />\n              </div>\n            )\n          })}\n\n        </div>\n      </div>\n    </div>\n    );\n  }\n  \n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}